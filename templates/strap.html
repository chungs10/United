<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Weight</title>
    <link rel="stylesheet" href="./static/CSS/styles.css" />
    <link rel="stylesheet" type="text/css" href="./static/CSS/styles.css" />
    <link rel="icon" href="./favicon.ico" type="image/x-icon" />
    <style>
      #captured-image {
        display: none; /* Initially hide the captured image */
      }
      .logo {
        float: left; /* Float the logo to the right */
        margin-right: 20px; /* Add margin to the right to create space */
        position: relative; /* Set position to relative */
        top: -10px; /* Move the logo 20px up */
      }
    </style>
  </head>
  <body>
    <div class="main">
      <div class="logo">
        <a href="{{ url_for('home') }}"><img src="./static/Images/united_1.jpg" /></a>
      </div>

      <ul>
        <li class="active">
          <a href="#"><i class="fa fa-home"></i>Home</a>
        </li>
        <li>
          <a href="#">About</a>
        </li>
        <div class="circle"></div>
        <img src="./static/Images/icon.png" alt="Another Image" class="right-image" />
      </ul>
    </div>
    <div class="progress-container">
      <div class="progress-bar" id="progress-bar">
        <div class="progress-slot" id="progress-slot-select">
          <a href="{{ url_for('select') }}">Select</a>
        </div>
        <div class="progress-slot" id="progress-slot-weight">
          <a href="{{ url_for('weight') }}">Weight</a>
        </div>
        <div class="progress-slot" id="progress-slot-fire">
          <a href="{{ url_for('fire') }}">Fire</a>
        </div>
        <div class="progress-slot" id="progress-slot-strap">
          <a href="{{ url_for('strap') }}">Strap</a>
        </div>
        <div class="progress-slot" id="progress-slot-submit">
          <a href="{{ url_for('capture') }}">Submit</a>
        </div>
      </div>
    </div>

    <div class="box-container">
      <div class="box-live-buttons">
        <button id="captureImage">Capture Template</button>
        <button id="liveAnalysis">Live Analysis</button>
      </div>
      <div class="box-container-item">
        <div class="box-capture">
          <video id="video" playsinline autoplay></video>
          <img id="captured-image" alt="Captured Image" />
        </div>
        <div class="two-button">
          <button id="capture" class="two-button">Capture</button>
          <button id="upload" class="two-button">Upload</button>
        </div>
      </div>

      <div class="box-container-item">
        <div class="box-result">
          <!-- Content for the second box -->
        </div>
        <button id="analyze" class="simple" onclick="confirmStrapAction()">Analyze</button>
      </div>
    </div>
    <a href="{{ url_for('capture') }}" class="get-started-btn">Continue <span>&rarr;</span></a>
    <a href="{{ url_for('fire') }}" class="back-button"><span>&larr;</span> Back</a>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Reset confirmation status for strap action to "unconfirmed"
        localStorage.setItem('strapConfirmation', 'unconfirmed')
        updateProgressBar()
        confirmSubmitAction()
      })
      document.addEventListener('DOMContentLoaded', function () {
        // Retrieve confirmation status for each action from localStorage
        var fireConfirmation = localStorage.getItem('fireConfirmation')
        var strapConfirmation = localStorage.getItem('strapConfirmation')
        var weightConfirmation = localStorage.getItem('weightConfirmation')
        var selectConfirmation = localStorage.getItem('selectConfirmation')
        var submitConfirmation = localStorage.getItem('submitConfirmation')
      
        // Update the progress bar
        updateProgressBar(fireConfirmation, strapConfirmation, weightConfirmation, selectConfirmation, submitConfirmation)
      });
    </script>

    <script src="./static/JS/upload.js"></script>
    <script src="./static/JS/camera.js"></script>
    <script src="./static/JS/script.js"></script>
  </body>
</html>
